{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/caio/Applications/mern-exercise-tracker/client/src/views/users/Users.js\";\nimport React from \"react\";\nimport { Table, Button, Badge, ListGroup } from \"react-bootstrap\";\nimport Modal from \"../../components/Modal\";\nimport User from \"../../api/User\";\nimport Form from \"./Form\";\nconst defaultForm = {\n  name: \"\",\n  _id: null\n};\nexport default class Users extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      users: [],\n      activeModal: false,\n      form: defaultForm,\n      mode: \"create\"\n    };\n    this.closeModal = this.closeModal.bind(this);\n    this.openModal = this.openModal.bind(this);\n    this.users = this.users.bind(this);\n    this.store = this.store.bind(this);\n    this.update = this.update.bind(this);\n    this.delete = this.delete.bind(this);\n    this.clear = this.clear.bind(this);\n    this.fill = this.fill.bind(this);\n    this.add = this.add.bind(this);\n    this.edit = this.edit.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  async users() {\n    await User.get().then(({\n      data\n    }) => {\n      this.setState({\n        users: data\n      });\n    });\n  }\n\n  async store() {\n    await User.store(this.state.form).then(() => {\n      this.users();\n      this.clear();\n      this.closeModal();\n    }).catch(err => {\n      console.log(err.response);\n    });\n  }\n\n  show(model) {\n    this.setState({\n      mode: \"view\"\n    });\n    const user = User.show(model._id).then(({\n      data\n    }) => {\n      return data;\n    }) || {};\n    console.log(user);\n    return \"\";\n    /*      */\n\n    /* \n     this.openModal();\n     let html;\n    */\n\n    /*   if (user) {\n        html = (\n          <ListGroup>\n            <ListGroup.Item>Name: {user.name}</ListGroup.Item>\n            <ListGroup.Item>Created at: {user.createdAt}</ListGroup.Item>\n            <ListGroup.Item>Created at: {user.updatedAt}</ListGroup.Item>\n          </ListGroup>\n        );\n      } else {\n        html = <h6>No user found</h6>;\n      } */\n    //return html;\n  }\n\n  async update() {\n    await User.update(this.state.form).then(() => {\n      this.users();\n      this.clear();\n      this.closeModal();\n    }).catch(err => {\n      console.log(err.response);\n    });\n  }\n\n  async delete({\n    _id\n  }) {\n    await User.destroy(_id).then(() => {\n      this.users();\n    }).catch(err => {\n      console.log(err.response);\n    });\n  }\n\n  add() {\n    this.setState({\n      mode: \"create\"\n    });\n    this.openModal();\n  }\n\n  edit(model) {\n    this.setState({\n      mode: \"edit\"\n    });\n    this.fill(model);\n    this.openModal();\n  }\n\n  closeModal() {\n    this.setState({\n      activeModal: false\n    });\n  }\n\n  openModal() {\n    this.setState({\n      activeModal: true\n    });\n  }\n\n  fill(model) {\n    this.setState({\n      form: model\n    });\n  }\n\n  clear() {\n    this.setState({\n      form: defaultForm\n    });\n  }\n\n  handleChange(event) {\n    const {\n      name,\n      value\n    } = event.target;\n    let params = {};\n    params[name] = value;\n    this.setState({\n      form: { ...this.state.form,\n        ...params\n      }\n    });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n\n    if (this.state.mode === \"create\") {\n      this.store();\n    } else {\n      this.update();\n    }\n  }\n\n  componentDidMount() {\n    this.users();\n  }\n\n  content() {\n    const {\n      users\n    } = this.state;\n\n    if (!users.length) {\n      return /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: /*#__PURE__*/_jsxDEV(\"td\", {\n          colSpan: \"2\",\n          children: \"No user found\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }, this);\n    }\n\n    return users.map(user => /*#__PURE__*/_jsxDEV(\"tr\", {\n      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n        children: [user._id, \" \", /*#__PURE__*/_jsxDEV(Badge, {\n          className: \"ml-1\",\n          onClick: () => this.show.bind(this, user),\n          variant: \"primary\",\n          children: \"view\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Badge, {\n          onClick: () => this.edit(user),\n          variant: \"success\",\n          children: \"edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Badge, {\n          className: \"ml-1\",\n          onClick: () => this.delete(user),\n          variant: \"danger\",\n          children: \"destroy\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: user.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 9\n      }, this)]\n    }, user._id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 7\n    }, this));\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"d-flex justify-content-between mb-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"Users\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: this.add,\n          size: \"sm\",\n          variant: \"primary\",\n          children: \"Adicionar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Table, {\n        striped: true,\n        bordered: true,\n        hover: true,\n        responsive: true,\n        size: \"sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"#\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 230,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: this.content()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal, {\n        activeModal: this.state.activeModal,\n        closeModal: this.closeModal,\n        showSubmit: this.mode === \"view\" ? false : true,\n        submitButton: /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          onClick: this.handleSubmit,\n          children: \"Save Changes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 241,\n          columnNumber: 13\n        }, this),\n        children: this.state.mode === \"view\" ? this.show() : /*#__PURE__*/_jsxDEV(Form, {\n          form: this.state.form,\n          handleChange: this.handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true);\n  }\n\n}","map":{"version":3,"sources":["/home/caio/Applications/mern-exercise-tracker/client/src/views/users/Users.js"],"names":["React","Table","Button","Badge","ListGroup","Modal","User","Form","defaultForm","name","_id","Users","Component","constructor","props","state","users","activeModal","form","mode","closeModal","bind","openModal","store","update","delete","clear","fill","add","edit","handleChange","handleSubmit","get","then","data","setState","catch","err","console","log","response","show","model","user","destroy","event","value","target","params","preventDefault","componentDidMount","content","length","map","render"],"mappings":"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","sourcesContent":["import React from \"react\";\n\nimport { Table, Button, Badge, ListGroup } from \"react-bootstrap\";\n\nimport Modal from \"../../components/Modal\";\n\nimport User from \"../../api/User\";\n\nimport Form from \"./Form\";\n\nconst defaultForm = {\n  name: \"\",\n  _id: null,\n};\n\nexport default class Users extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      users: [],\n      activeModal: false,\n      form: defaultForm,\n      mode: \"create\",\n    };\n\n    this.closeModal = this.closeModal.bind(this);\n    this.openModal = this.openModal.bind(this);\n\n    this.users = this.users.bind(this);\n    this.store = this.store.bind(this);\n    this.update = this.update.bind(this);\n    this.delete = this.delete.bind(this);\n\n    this.clear = this.clear.bind(this);\n    this.fill = this.fill.bind(this);\n    this.add = this.add.bind(this);\n    this.edit = this.edit.bind(this);\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  async users() {\n    await User.get().then(({ data }) => {\n      this.setState({\n        users: data,\n      });\n    });\n  }\n\n  async store() {\n    await User.store(this.state.form)\n      .then(() => {\n        this.users();\n        this.clear();\n        this.closeModal();\n      })\n      .catch((err) => {\n        console.log(err.response);\n      });\n  }\n\n  show(model) {\n\n     this.setState({\n      mode: \"view\",\n    }); \n    \n    const user = User.show(model._id).then(({ data }) => {\n      return data;\n    }) || {};\n\n    console.log(user)\n\n    return\"\";\n/*      */\n\n    /* \n\n    this.openModal();\n\n    let html;\n */\n  /*   if (user) {\n      html = (\n        <ListGroup>\n          <ListGroup.Item>Name: {user.name}</ListGroup.Item>\n          <ListGroup.Item>Created at: {user.createdAt}</ListGroup.Item>\n          <ListGroup.Item>Created at: {user.updatedAt}</ListGroup.Item>\n        </ListGroup>\n      );\n    } else {\n      html = <h6>No user found</h6>;\n    } */\n\n    //return html;\n  }\n\n  async update() {\n    await User.update(this.state.form)\n      .then(() => {\n        this.users();\n        this.clear();\n        this.closeModal();\n      })\n      .catch((err) => {\n        console.log(err.response);\n      });\n  }\n\n  async delete({ _id }) {\n    await User.destroy(_id)\n      .then(() => {\n        this.users();\n      })\n      .catch((err) => {\n        console.log(err.response);\n      });\n  }\n\n  add() {\n    this.setState({\n      mode: \"create\",\n    });\n    this.openModal();\n  }\n\n  edit(model) {\n    this.setState({\n      mode: \"edit\",\n    });\n\n    this.fill(model);\n    this.openModal();\n  }\n\n  closeModal() {\n    this.setState({\n      activeModal: false,\n    });\n  }\n\n  openModal() {\n    this.setState({\n      activeModal: true,\n    });\n  }\n\n  fill(model) {\n    this.setState({ form: model });\n  }\n\n  clear() {\n    this.setState({ form: defaultForm });\n  }\n\n  handleChange(event) {\n    const { name, value } = event.target;\n    let params = {};\n    params[name] = value;\n\n    this.setState({ form: { ...this.state.form, ...params } });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    if (this.state.mode === \"create\") {\n      this.store();\n    } else {\n      this.update();\n    }\n  }\n\n  componentDidMount() {\n    this.users();\n  }\n\n  content() {\n    const { users } = this.state;\n\n    if (!users.length) {\n      return (\n        <tr>\n          <td colSpan=\"2\">No user found</td>\n        </tr>\n      );\n    }\n\n    return users.map((user) => (\n      <tr key={user._id}>\n        <td>\n          {user._id}{\" \"}\n          <Badge\n            className=\"ml-1\"\n            onClick={() => this.show.bind(this, user)}\n            variant=\"primary\"\n          >\n            view\n          </Badge>\n          <Badge onClick={() => this.edit(user)} variant=\"success\">\n            edit\n          </Badge>\n          <Badge\n            className=\"ml-1\"\n            onClick={() => this.delete(user)}\n            variant=\"danger\"\n          >\n            destroy\n          </Badge>\n        </td>\n        <td>{user.name}</td>\n      </tr>\n    ));\n  }\n\n  render() {\n    return (\n      <>\n        <div className=\"d-flex justify-content-between mb-1\">\n          <span>Users</span>\n          <Button onClick={this.add} size=\"sm\" variant=\"primary\">\n            Adicionar\n          </Button>\n        </div>\n        <Table striped bordered hover responsive size=\"sm\">\n          <thead>\n            <tr>\n              <th>#</th>\n              <th>Name</th>\n            </tr>\n          </thead>\n\n          <tbody>{this.content()}</tbody>\n        </Table>\n        <Modal\n          activeModal={this.state.activeModal}\n          closeModal={this.closeModal}\n          showSubmit={this.mode === \"view\" ? false : true}\n          submitButton={\n            <Button variant=\"primary\" onClick={this.handleSubmit}>\n              Save Changes\n            </Button>\n          }\n        >\n          {this.state.mode === \"view\" ? (\n            this.show()\n          ) : (\n            <Form form={this.state.form} handleChange={this.handleChange} />\n          )}\n        </Modal>\n      </>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}